<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Ajax图书查询</title>
    <style type="text/css">
        #container {
            width: 360px;
            min-height: 100px;
            background-color: lightgreen;
            position: absolute;
            left: 50%;
            top: 10px;
            margin-left: -180px;
        }
    </style>
    <script src="./jquery.js"></script>
    <script src="./ajax1.js"></script>
    <script>
        /*
        jQuery-ajax相关API基本使用
        */
        $(function () {
            $('#btn').click(function () {
                //异步请求
                // ajax({
                //     type:'post',
                //     url:'./demo14.php',
                //     dataType:'json',
                //     async : true,
                //     data:{username:'张三',password:'123'},
                //     success:function(data){
                //         var html = '<div><span>用户名：'+data.password+'</span><span>密码：'+data.password+'</span></div>'
                //         $("#info").html(html);
                //     }
                // });
                // 同步请求
                var code = $('#code').val();
                var data = ajax({
                    type: 'post',
                    url: './demo14.php',
                    dataType: 'json',
                    // async: true,
                    async:false,
                    data: {
                        username: '张三',
                        password: '123'
                    },
                });
                console.log(data);
                var html = '<div><span>用户名：' + data.username + '</span><span>密码：' + data.password +
                    '</span></div>'
                $("#info").html(html);
            });
        });
    </script>
</head>

<body>
    <div id="container">
        <div>
            图书编码：<input type="text" name="code" id="code">
            <input type="button" value="查询" id="btn">
        </div>
        <div id="info"></div>
</body>

</html>